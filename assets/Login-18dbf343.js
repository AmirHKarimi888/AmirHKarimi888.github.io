import{h,A as p,i as g,r,o as x,c as w,a as l,w as m,b as c,d as _,t as k,l as V}from"./index-17af02a4.js";import{u as M,a as u}from"./vee-validate.esm-51871194.js";import{_ as C}from"./_plugin-vue_export-helper-c27b6911.js";const S={setup(){const{handleSubmit:v,handleReset:o}=M({validationSchema:{email(e){return/^[a-z.0-9.]+@[a-z.-]+\.[a-z]+$/i.test(e)?!0:"Must be a valid e-mail."},password(e){return(e==null?void 0:e.length)>9&&/[0-9-]+/.test(e)?!0:"Password needs to be at least 9 digits."},checkbox(e){return e==="1"?!0:"Must be checked."}}}),n=u("email"),a=u("password"),b=u("checkbox"),i=h([]);p.get(g+"/users",e=>i.value=e.data).then(()=>{});const s=h(""),d=v(()=>{i.value.map(e=>{e.email===n.value.value&&e.password===a.value.value?(s.value="",localStorage.setItem("authedUser",e.id),setTimeout(()=>{window.location.href="/"},1e3)):s.value="Email and password don't match."})});return{password:a,email:n,checkbox:b,notMatch:s,submit:d,handleReset:o}}},U={class:"login"},y=c("h1",null,"Login",-1),z={class:"mt-3 text-red"};function B(v,o,n,a,b,i){const s=r("v-text-field"),d=r("v-checkbox"),e=r("v-btn"),f=r("v-sheet");return x(),w("div",U,[y,l(f,{width:"300",class:"mx-auto mt-15"},{default:m(()=>[c("form",{onSubmit:o[3]||(o[3]=V((...t)=>a.submit&&a.submit(...t),["prevent"]))},[l(s,{modelValue:a.email.value.value,"onUpdate:modelValue":o[0]||(o[0]=t=>a.email.value.value=t),"error-messages":a.email.errorMessage.value,label:"E-mail"},null,8,["modelValue","error-messages"]),l(s,{modelValue:a.password.value.value,"onUpdate:modelValue":o[1]||(o[1]=t=>a.password.value.value=t),counter:7,"error-messages":a.password.errorMessage.value,label:"Password"},null,8,["modelValue","error-messages"]),l(d,{modelValue:a.checkbox.value.value,"onUpdate:modelValue":o[2]||(o[2]=t=>a.checkbox.value.value=t),"error-messages":a.checkbox.errorMessage.value,value:"1",label:"I am not a bot",type:"checkbox"},null,8,["modelValue","error-messages"]),l(e,{class:"me-4",type:"submit"},{default:m(()=>[_(" Login ")]),_:1}),l(e,{onClick:a.handleReset},{default:m(()=>[_(" Clear Form ")]),_:1},8,["onClick"]),c("p",z,k(a.notMatch),1)],32)]),_:1})])}const N=C(S,[["render",B]]);export{N as default};
